

<div class="container chart">

    <div class="rows" id="newChart">
<div class="containers" id="pullups-graph-container">
    <div class="pullups">

        <div>
            <canvas id="myChart"></canvas>
        </div>

        {{!-- script for running data of a particular user --}}
        <div id="pullupsData" data-pullups={{pullData}}></div>

    </div>

    <div class="row">
        <div class="col-sm-12 d-flex justify-content-center">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Workout Tracker</h5>
                    <p class="card-text">Choose one of the following workouts:</p>
                        <form id="tracker-form">
                        <select name="workouts" id="workouts">
                            <option value="" >Choose one</option>
                            <option value="pullup" id="pullup">PullUps</option>
                            <option value="pushup" id="pushup">PushUps</option>
                            <option value="running" id="running">Running</option>
                        </select>
                        <button class="submit" type="submit" id="trackBtn"><i class='bx bx-trending-up'></i>Track Progress!</button>
                        </form>
                </div>
            </div>
    </div>
    </div>
    </div>



    <script>
        const pullData = JSON.parse(document.querySelector('#pullupsData').getAttribute('data-pullups'))

        console.log(pullData)

        //make array of only the distances for the y axis
        const amounts = []
        pullData.forEach((entry) => amounts.push(entry.amount))

        //make array of only the dates for the x axis
        const dates = []
        pullData.forEach((entry) => dates.push(entry.date))

        {
            var ctx = document.getElementById('myChart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: dates,
                    datasets: [{
                        data: amounts,
                        label: "Total",
                        borderColor: "#3e95cd",
                        backgroundColor: "#7bb6dd",
                        fill: false,
                    }

                    ]
                },
            });
          
        }
    </script>

    </div>
    </div>

       <script src="/javascript/tracker.js"></script>